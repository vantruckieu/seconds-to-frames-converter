<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Timing & Render Tool</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

<style>
body {
    background: radial-gradient(circle at 20% 20%, #0f1c2e, #050b18 70%);
    font-family: 'Google Sans', 'Inter', 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
    color: #e6f3ff;
    display: flex;
    flex-direction: column;
    align-items: center;
    margin: 0;
    padding: 40px 20px 80px 20px;
    min-height: 100vh;
    box-sizing: border-box;
}

/* Title + intro */

h1 {
    margin: 0 0 10px 0;
    font-size: 28px;
    text-align: center;
    color: #00ccff;
    text-shadow: 0 0 20px rgba(0,200,255,0.6);
    font-weight: 700;
}

.intro {
    text-align: center;
    max-width: 600px;
    margin-bottom: 30px;
    opacity: 0.8;
    line-height: 1.5;
}

/* Container */

.container {
    background: linear-gradient(145deg, #0e1624, #111c2f);
    padding: 40px;
    border-radius: 20px;
    width: 460px;
    box-shadow:
        0 0 40px rgba(0,140,255,0.25),
        inset 0 0 60px rgba(0,80,160,0.15);
    border: 1px solid rgba(0,180,255,0.2);
}

/* Tabs */

.tabs {
    display: flex;
    gap: 12px;
    margin-bottom: 25px;
}

.tabs button {
    flex: 1;
    padding: 12px;
    background: #0c1626;
    border: 1px solid #1b3555;
    border-radius: 10px;
    color: #7fbfff;
    cursor: pointer;
    transition: 0.3s;
    font-weight: 600;
    font-family: inherit;
}

.tabs button:hover {
    background: #11233d;
    box-shadow: 0 0 12px rgba(0,170,255,0.4);
}

.tabs button.active {
    background: linear-gradient(90deg,#0066ff,#00ccff);
    color: white;
    border-color: #00ccff;
    box-shadow: 0 0 20px rgba(0,200,255,0.6);
}

/* Form */

.row { margin-bottom: 20px; position: relative; }

label {
    display: flex;
    align-items: center;
    margin-bottom: 6px;
    font-size: 14px;
    opacity: 0.85;
    color: #9ed8ff;
    font-weight: 500;
}

input {
    width: 100%;
    padding: 12px 16px;
    font-size: 16px;
    background: #0a1422;
    border: 1px solid #1e3a5f;
    border-radius: 10px;
    color: #e6f3ff;
    transition: 0.3s;
    box-sizing: border-box;
    font-family: inherit;
}

input:focus {
    outline: none;
    border-color: #00ccff;
    box-shadow: 0 0 12px rgba(0,200,255,0.5);
}

/* --- CUSTOM DROPDOWN SI√äU M∆Ø·ª¢T --- */

.custom-select-wrapper {
    position: relative;
    user-select: none;
    width: 100%;
}

.custom-select {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    padding: 12px 16px;
    font-size: 16px;
    background: #0a1422;
    border: 1px solid #1e3a5f;
    border-radius: 10px;
    color: #e6f3ff;
    cursor: pointer;
    transition: all 0.3s ease;
    box-sizing: border-box;
}

.custom-select:hover, .custom-select.open {
    border-color: #00ccff;
    box-shadow: 0 0 12px rgba(0,200,255,0.3);
    background: #0c1a2e;
}

/* Icon m≈©i t√™n t·ª± v·∫Ω b·∫±ng CSS (m∆∞·ª£t h∆°n d√πng ch·ªØ ‚ñº) */
.custom-select::after {
    content: "";
    width: 8px;
    height: 8px;
    border-right: 2px solid #00ccff;
    border-bottom: 2px solid #00ccff;
    transform: translateY(-2px) rotate(45deg);
    transition: transform 0.3s ease;
}

.custom-select.open::after {
    transform: translateY(3px) rotate(-135deg);
}

.custom-options {
    position: absolute;
    top: calc(100% + 8px);
    left: 0;
    right: 0;
    background: #0d1a2d;
    border: 1px solid rgba(0, 204, 255, 0.3);
    border-radius: 12px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.6);
    opacity: 0;
    visibility: hidden;
    transform: translateY(-10px);
    transition: all 0.25s cubic-bezier(0.16, 1, 0.3, 1);
    z-index: 100;
    padding: 6px;
    box-sizing: border-box;
}

.custom-select-wrapper.open .custom-options {
    opacity: 1;
    visibility: visible;
    transform: translateY(0) !important;
}

.custom-option {
    padding: 10px 14px;
    cursor: pointer;
    transition: all 0.2s ease;
    color: #9ed8ff;
    border-radius: 8px;
    margin-bottom: 2px;
    font-size: 15px;
}

.custom-option:last-child {
    margin-bottom: 0;
}

.custom-option:hover {
    background: rgba(0, 204, 255, 0.1);
    color: #ffffff;
}

.custom-option.selected {
    background: rgba(0, 204, 255, 0.2);
    color: #00ccff;
    font-weight: 600;
}

/* Input group for value and time unit */
.input-group {
    display: flex;
    gap: 10px;
}
.input-group input {
    flex: 1;
}
.input-group .custom-select-wrapper {
    width: 130px; /* N·ªõi r·ªông m·ªôt ch√∫t ƒë·ªÉ ch·ªØ kh√¥ng b·ªã ch√®n √©p */
}

/* FPS Presets */

.fps-presets {
    display: flex;
    gap: 8px;
    margin-top: 8px;
}

.fps-presets button {
    flex: 1;
    padding: 6px;
    background: #0e1c2f;
    border: 1px solid #1f4068;
    border-radius: 8px;
    color: #66ccff;
    cursor: pointer;
    font-size: 13px;
    transition: 0.2s;
    font-family: inherit;
    font-weight: 500;
}

.fps-presets button:hover {
    background: #133a66;
    box-shadow: 0 0 8px rgba(0,200,255,0.6);
}

/* Result */

.result {
    margin-top: 25px;
    font-size: 26px;
    font-weight: 700;
    color: #00ccff;
    text-align: center;
    text-shadow: 0 0 15px rgba(0,200,255,0.6);
}

/* Tooltip */

.tooltip {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 16px;
    height: 16px;
    background: rgba(0, 204, 255, 0.1);
    border: 1px solid #00ccff;
    border-radius: 50%;
    color: #00ccff;
    font-size: 11px;
    font-weight: bold;
    cursor: help;
    position: relative;
    margin-left: 8px;
    transition: 0.3s;
}

.tooltip:hover {
    background: #00ccff;
    color: #0a1422;
    box-shadow: 0 0 10px rgba(0, 204, 255, 0.6);
}

.tooltip:hover::after {
    content: attr(data-tip);
    position: absolute;
    bottom: 150%;
    left: 50%;
    transform: translateX(-50%);
    background: #02111f;
    padding: 10px 14px;
    font-size: 12px;
    font-weight: normal;
    border-radius: 8px;
    width: max-content;
    max-width: 260px;
    color: #cceeff;
    box-shadow: 0 4px 15px rgba(0,170,255,0.5);
    border: 1px solid rgba(0, 204, 255, 0.3);
    z-index: 10;
    text-align: center;
    line-height: 1.4;
}

/* Warning */

.warning {
    margin-top: 15px;
    font-size: 13px;
    color: #ffcc66;
    opacity: 0.9;
    line-height: 1.4;
}

/* Hidden */

.hidden {
    display: none !important;
}

/* Footer */

footer {
    margin-top: 40px;
    font-size: 14px;
    color: #66ccff;
    opacity: 0.8;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
}

footer .custom-select-wrapper {
    width: 110px;
}
footer .custom-select {
    padding: 8px 12px;
    font-size: 14px;
    border-radius: 8px;
}
</style>
</head>

<body>

<h1>Timing & Render Tool</h1>
<div class="intro" id="introText">
C√¥ng c·ª• h·ªó tr·ª£ chuy·ªÉn ƒë·ªïi Frame ‚áÑ Time v√† ∆∞·ªõc t√≠nh th·ªùi gian Render d·ª±a tr√™n th·ªùi gian c·ªßa 1 frame.
</div>

<div class="container">

<div class="tabs">
<button id="tabConvert" class="active" onclick="switchTab('convert')">Time / Frame Convert</button>
<button id="tabRender" onclick="switchTab('render')">Render Time</button>
</div>

<div id="convertMode">

<div class="row">
<label>
<span id="lblCalcType">Lo·∫°i t√≠nh</span> <span class="tooltip" id="tipCalcType" data-tip="Chuy·ªÉn ƒë·ªïi gi·ªØa frame v√† th·ªùi gian theo FPS">?</span>
</label>
<div class="custom-select-wrapper" id="modeWrapper">
    <div class="custom-select" id="modeDisplay" data-value="f2t">Frame ‚Üí Time</div>
    <div class="custom-options">
        <div class="custom-option selected" data-value="f2t" id="optF2T">Frame ‚Üí Time</div>
        <div class="custom-option" data-value="t2f" id="optT2F">Time ‚Üí Frame</div>
    </div>
</div>
</div>

<div class="row">
<label>FPS</label>
<input type="number" id="fps" step="0.001" value="24" min="1" oninput="updateConvert()">

<div class="fps-presets">
<button onclick="setFPS(12)">12</button>
<button onclick="setFPS(24)">24</button>
<button onclick="setFPS(30)">30</button>
<button onclick="setFPS(60)">60</button>
</div>
</div>

<div class="row">
<label id="lblInputValue">S·ªë khung h√¨nh/Th·ªùi gian</label>
<div class="input-group">
    <input type="number" id="inputValue" min="0" oninput="updateConvert()">
    
    <div class="custom-select-wrapper hidden" id="timeUnitWrapper">
        <div class="custom-select" id="timeUnitDisplay" data-value="1">Gi√¢y</div>
        <div class="custom-options">
            <div class="custom-option selected" data-value="1" id="optSec">Gi√¢y</div>
            <div class="custom-option" data-value="60" id="optMin">Ph√∫t</div>
            <div class="custom-option" data-value="3600" id="optHour">Gi·ªù</div>
        </div>
    </div>
</div>
</div>

<div class="result" id="convertOutput">‚Äî</div>

</div>

<div id="renderMode" class="hidden">

<div class="row">
<label>
<span id="lblTotalFrames">T·ªïng s·ªë frame</span> <span class="tooltip" id="tipTotalFrames" data-tip="T·ªïng s·ªë frame c·∫ßn render trong ph·∫ßn m·ªÅm">?</span>
</label>
<input type="number" id="totalFrames" min="0" oninput="updateRender()">
</div>

<div class="row">
<label>
<span id="lblRenderTime">Th·ªùi gian render 1 frame (gi√¢y)</span> <span class="tooltip" id="tipRenderTime" data-tip="Th·ªùi gian xu·∫•t 1 khung h√¨nh (t√≠nh b·∫±ng gi√¢y)">?</span>
</label>
<input type="number" id="renderPerFrame" step="0.01" min="0" oninput="updateRender()">
</div>

<div class="result" id="renderOutput">‚Äî</div>

<div class="warning" id="warningText">
‚ö† Ch·ªâ d√πng ƒë·ªÉ tham kh·∫£o ∆∞·ªõc t√≠nh th√¥ng qua 1 frame. N·∫øu c√°c frame sau c√≥ m·∫≠t ƒë·ªô chi ti·∫øt cao ho·∫∑c th·∫•p h∆°n, th·ªùi gian render c√≥ th·ªÉ gi·∫£m ho·∫∑c k√©o d√†i.
</div>

</div>

</div>

<footer>
<span id="lblLang">Ng√¥n ng·ªØ:</span>
<div class="custom-select-wrapper" id="langWrapper">
    <div class="custom-select" id="langDisplay" data-value="vi">üáªüá≥ VI</div>
    <div class="custom-options" style="top: auto; bottom: calc(100% + 8px); transform: translateY(10px);">
        <div class="custom-option selected" data-value="vi">üáªüá≥ VI</div>
        <div class="custom-option" data-value="en">üá¨üáß EN</div>
    </div>
</div>
</footer>

<script>

let currentLang="vi";

// T·ª´ ƒëi·ªÉn ƒëa ng√¥n ng·ªØ
const dict = {
    vi: {
        introText: "C√¥ng c·ª• h·ªó tr·ª£ chuy·ªÉn ƒë·ªïi Frame ‚áÑ Time v√† ∆∞·ªõc t√≠nh th·ªùi gian Render d·ª±a tr√™n th·ªùi gian c·ªßa 1 frame.",
        tabConvert: "Time / Frame Convert",
        tabRender: "Render Time",
        lblCalcType: "Lo·∫°i t√≠nh",
        tipCalcType: "Chuy·ªÉn ƒë·ªïi gi·ªØa frame v√† th·ªùi gian theo FPS",
        optF2T: "Frame ‚Üí Time",
        optT2F: "Time ‚Üí Frame",
        lblInputValue: "S·ªë khung h√¨nh/Th·ªùi gian",
        optSec: "Gi√¢y",
        optMin: "Ph√∫t",
        optHour: "Gi·ªù",
        lblTotalFrames: "T·ªïng s·ªë frame",
        tipTotalFrames: "T·ªïng s·ªë frame c·∫ßn render trong ph·∫ßn m·ªÅm",
        lblRenderTime: "Th·ªùi gian render 1 frame (gi√¢y)",
        tipRenderTime: "Th·ªùi gian xu·∫•t 1 khung h√¨nh (t√≠nh b·∫±ng gi√¢y)",
        warningText: "‚ö† Ch·ªâ d√πng ƒë·ªÉ tham kh·∫£o ∆∞·ªõc t√≠nh th√¥ng qua 1 frame. N·∫øu c√°c frame sau c√≥ m·∫≠t ƒë·ªô chi ti·∫øt cao ho·∫∑c th·∫•p h∆°n, th·ªùi gian render c√≥ th·ªÉ gi·∫£m ho·∫∑c k√©o d√†i.",
        lblLang: "Ng√¥n ng·ªØ:"
    },
    en: {
        introText: "Tool to convert Frame ‚áÑ Time and estimate Render time based on a single frame's render time.",
        tabConvert: "Time / Frame Convert",
        tabRender: "Render Time",
        lblCalcType: "Calculation Type",
        tipCalcType: "Convert between frames and time based on FPS",
        optF2T: "Frame ‚Üí Time",
        optT2F: "Time ‚Üí Frame",
        lblInputValue: "Frames / Time Amount",
        optSec: "Seconds",
        optMin: "Minutes",
        optHour: "Hours",
        lblTotalFrames: "Total Frames",
        tipTotalFrames: "Total frames to render in your software",
        lblRenderTime: "Render time per frame (seconds)",
        tipRenderTime: "Time to render 1 single frame (in seconds)",
        warningText: "‚ö† For reference and estimation only. If subsequent frames have higher/lower detail density, render time may vary.",
        lblLang: "Language:"
    }
};

function applyTranslation() {
    const t = dict[currentLang];
    document.getElementById("introText").innerText = t.introText;
    document.getElementById("tabConvert").innerText = t.tabConvert;
    document.getElementById("tabRender").innerText = t.tabRender;
    document.getElementById("lblCalcType").innerText = t.lblCalcType;
    document.getElementById("tipCalcType").setAttribute("data-tip", t.tipCalcType);
    
    // C·∫≠p nh·∫≠t text cho options
    document.getElementById("optF2T").innerText = t.optF2T;
    document.getElementById("optT2F").innerText = t.optT2F;
    document.getElementById("optSec").innerText = t.optSec;
    document.getElementById("optMin").innerText = t.optMin;
    document.getElementById("optHour").innerText = t.optHour;
    
    // C·∫≠p nh·∫≠t text hi·ªÉn th·ªã tr√™n b·ªÅ m·∫∑t Dropdown
    const modeVal = document.getElementById("modeDisplay").getAttribute("data-value");
    if(modeVal === "f2t") document.getElementById("modeDisplay").innerText = t.optF2T;
    if(modeVal === "t2f") document.getElementById("modeDisplay").innerText = t.optT2F;
    
    const timeVal = document.getElementById("timeUnitDisplay").getAttribute("data-value");
    if(timeVal === "1") document.getElementById("timeUnitDisplay").innerText = t.optSec;
    if(timeVal === "60") document.getElementById("timeUnitDisplay").innerText = t.optMin;
    if(timeVal === "3600") document.getElementById("timeUnitDisplay").innerText = t.optHour;

    document.getElementById("lblInputValue").innerText = t.lblInputValue;
    document.getElementById("lblTotalFrames").innerText = t.lblTotalFrames;
    document.getElementById("tipTotalFrames").setAttribute("data-tip", t.tipTotalFrames);
    document.getElementById("lblRenderTime").innerText = t.lblRenderTime;
    document.getElementById("tipRenderTime").setAttribute("data-tip", t.tipRenderTime);
    document.getElementById("warningText").innerText = t.warningText;
    document.getElementById("lblLang").innerText = t.lblLang;
}

function switchTab(tab){
    document.getElementById("convertMode").classList.add("hidden");
    document.getElementById("renderMode").classList.add("hidden");
    document.getElementById("tabConvert").classList.remove("active");
    document.getElementById("tabRender").classList.remove("active");

    if(tab==="convert"){
        document.getElementById("convertMode").classList.remove("hidden");
        document.getElementById("tabConvert").classList.add("active");
    }else{
        document.getElementById("renderMode").classList.remove("hidden");
        document.getElementById("tabRender").classList.add("active");
    }
}

// Logic cho Custom Dropdown
document.querySelectorAll('.custom-select-wrapper').forEach(wrapper => {
    const select = wrapper.querySelector('.custom-select');
    const options = wrapper.querySelectorAll('.custom-option');

    select.addEventListener('click', function(e) {
        e.stopPropagation();
        
        document.querySelectorAll('.custom-select-wrapper').forEach(w => {
            if(w !== wrapper) {
                w.classList.remove('open');
                w.querySelector('.custom-select').classList.remove('open');
            }
        });

        wrapper.classList.toggle('open');
        select.classList.toggle('open');
    });

    options.forEach(option => {
        option.addEventListener('click', function(e) {
            e.stopPropagation();
            
            options.forEach(opt => opt.classList.remove('selected'));
            this.classList.add('selected');

            select.innerText = this.innerText;
            select.setAttribute('data-value', this.getAttribute('data-value'));

            wrapper.classList.remove('open');
            select.classList.remove('open');

            if(wrapper.id === "modeWrapper") {
                handleModeChange();
            } else if (wrapper.id === "langWrapper") {
                changeLang(this.getAttribute('data-value'));
            } else {
                updateConvert();
            }
        });
    });
});

document.addEventListener('click', function() {
    document.querySelectorAll('.custom-select-wrapper').forEach(wrapper => {
        wrapper.classList.remove('open');
        wrapper.querySelector('.custom-select').classList.remove('open');
    });
});

function handleModeChange() {
    let mode = document.getElementById("modeDisplay").getAttribute("data-value");
    let timeUnitWrapper = document.getElementById("timeUnitWrapper");
    
    if (mode === "t2f") {
        timeUnitWrapper.classList.remove("hidden");
    } else {
        timeUnitWrapper.classList.add("hidden");
    }
    updateConvert();
}

function updateConvert(){
    let mode=document.getElementById("modeDisplay").getAttribute("data-value");
    let fps=parseFloat(document.getElementById("fps").value);
    let val=parseFloat(document.getElementById("inputValue").value);

    if(isNaN(val) || isNaN(fps) || fps<=0 || val < 0){
        document.getElementById("convertOutput").innerText="‚Äî";
        return;
    }

    if(mode==="f2t"){
        let sec=(val/fps).toFixed(3);
        document.getElementById("convertOutput").innerText=
        currentLang==="vi"? sec+" gi√¢y": sec+" sec";
    }else{
        let timeMultiplier = parseFloat(document.getElementById("timeUnitDisplay").getAttribute("data-value"));
        let totalSeconds = val * timeMultiplier;
        let frames=Math.round(totalSeconds*fps);
        
        document.getElementById("convertOutput").innerText=
        currentLang==="vi"? frames+" frame": frames+" frames";
    }
}

function updateRender(){
    let frames=parseFloat(document.getElementById("totalFrames").value);
    let perFrame=parseFloat(document.getElementById("renderPerFrame").value);

    if(isNaN(frames) || isNaN(perFrame) || frames < 0 || perFrame < 0){
        document.getElementById("renderOutput").innerText="‚Äî";
        return;
    }

    let total=frames*perFrame;
    
    let days=Math.floor(total/86400);
    let hours=Math.floor((total%86400)/3600);
    let minutes=Math.floor((total%3600)/60);
    let seconds=Math.floor(total%60);

    let outputStr = "";
    
    if(days > 0) {
        let dayLabel = currentLang === "vi" ? " ng√†y " : "d ";
        outputStr += days + dayLabel;
    }
    
    outputStr += hours+"h "+minutes+"m "+seconds+"s";

    document.getElementById("renderOutput").innerText = outputStr;
}

function setFPS(value){
    document.getElementById("fps").value=value;
    updateConvert();
}

function changeLang(lang){
    currentLang=lang;
    applyTranslation();
    updateConvert();
    updateRender();
}

applyTranslation();

</script>

</body>
</html>
